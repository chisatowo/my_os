# 操作系统真相还原第14章：文件系统
## 实验小节k:
实现功能：
1. 返回目录文件下的所有目录项。
实现函数：
1. dir_read函数：dir_read用于根据传入的目录指针，一次返回一个该目录下的目录项，比如该目录文件下目录项分布：a，空，b，空，c，第一次调用返回a，第二次调用返回b，第三次调用返回c…原理：目录内有个指向自己inode的指针，该inode内有i_sectors[ ]，所以能在磁盘中找到该目录文件，将其读出到缓冲区然后按需设定遍历规则即可。
2. 代码中dir_pos实际含义是已经返回过的目录项总大小，cur_dir_entry_pos的含义是此次调用遍历过程中，扫描过的非空目录项总大小。当扫描到的非空目录项时，此时若cur_dir_entry_pos与dir_pos相等，自然就可以判断出这个非空目录项应该返回。
