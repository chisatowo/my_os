# 操作系统真相还原第14章：文件系统
## 实验小节l:
实现功能：
1. 判断目录是否为空
2. 根据传入路径删除空目录。
实现函数：
1. dir_is_empty判断目录是否为空。原理：为空的目录对应的目录文件中只有两个目录项，分别是.和…。所以，我们直接判断目录对应的inode中的i_size是否等于两个目录项大小即可
2. dir_remove传入父目录与子目录指针，在指定父目录中删除子目录。原理：判断子目录为空，然后调用delete_dir_entry删除父目录的目录文件中的子目录目录项，最后调用inode_release删除子目录的目录文件（子目录目录文件中只应该有.与…）
3. sys_rmdir用于根据传入路径删除空目录。原理：先调用search_file查找这个路径对应目录的inode，如果存在且该inode对应的确实是个目录文件，然后调用dir_open将该inode调入内存并创建对应的struct dir，调用dir_is_empty判断该目录为空，最后调用dir_remove删除该目录。
