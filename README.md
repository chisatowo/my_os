# 操作系统真相还原第14章：文件系统
## 实验小节f：
实现读取文件功能,能够读取磁盘上的文件内容并且打印输出到bochs显示屏幕上.
1.实现函数file_read函数,file_read从文件file中读取count个字节到buf。核心原理：文件结构struct file内有个fd_pos表示当前操作的文件内容位置，其实就是要读取的内容在文件中的起始位置，比如1个1KB大小的文本文件，fd_pos = 500，那么就是表示读取当前文件中偏移500字节的这个字符开始的内容。通过struct file中的fd_pos与传入函数的count，我们可以确定要读取的内容相对于整个文件的字节偏移量。然后struct file中有个指向操作文件inode的指 针，通过这个inode中的i_size与i_sectors[ ]，我们可以顺利知道文件存储位置信息。所以，自然就能知道要读取内容在磁盘中的位置。由于我们操作单位是块，所以对于起始位置，我们要抛弃这个块前面的无用数据，对于结束位置，我们要抛弃这个块后面的无用数据。
2.修改sys_read函数,让sys_read函数调用file_read函数.
